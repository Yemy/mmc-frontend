{% extends "base.html" %}
{% load static %}

{% block title %}Upcoming Events - {{ site_settings.site_name }}{% endblock %}

{% block content %}
<!-- Banner section -->
<section class="common-banner">
    <div class="container">
       <div class="row">
          <div class="common-banner__content text-center">
             <span class="sub-title">
             <i class="icon-donation"></i>Join Our Journey</span>              
             <h2 class="title-animation">Upcoming Events</h2>                  
          </div>
       </div>
    </div>
    <div class="banner-bg">
       <img src="{% static 'images/bc_banner-bg.png' %}" alt="Image">
    </div>
    <div class="shape">
       <img src="{% static 'images/shape.png' %}" alt="Image">
    </div>
    <div class="sprade" data-aos="zoom-in" data-aos-duration="1000">
       <img src="{% static 'images/sprade-base.png' %}" alt="Image" class="base-img">
    </div>
</section>

<!-- Events Section -->
<section class="events-section section-padding">
    <div class="container">
        <div class="row gutter-40">
            {% for event in events %}
            <div class="col-lg-4 col-md-6 mb-5">
                <div class="event-card bg-white shadow-sm rounded overflow-hidden h-100 van-tilt">
                    <div class="event-card__thumb position-relative">
                        {% if event.image %}
                        <img src="{{ event.image.url }}" alt="{{ event.title }}" class="img-fluid w-100">
                        {% else %}
                        <img src="{% static 'images/one-2.png' %}" alt="{{ event.title }}" class="img-fluid w-100">
                        {% endif %}
                        <div class="event-card__date position-absolute top-0 start-0 bg-primary text-white p-2 text-center">
                            <span class="d-block fs-4 fw-bold">{{ event.date|date:"d" }}</span>
                            <span class="d-block text-uppercase">{{ event.date|date:"M" }}</span>
                        </div>
                    </div>
                    <div class="event-card__content p-4">
                        <div class="event-card__meta mb-2 text-muted small">
                            <span class="me-3"><i class="far fa-clock text-primary"></i> {{ event.time|time:"H:i" }}</span>
                            <span><i class="fas fa-map-marker-alt text-primary"></i> {{ event.location }}</span>
                        </div>
                        <h4 class="mb-3"><a href="{% url 'web:event_detail' event.slug %}" class="text-dark">{{ event.title }}</a></h4>
                        <p class="text-muted">{{ event.description|truncatewords:20 }}</p>
                        <a href="{% url 'web:event_detail' event.slug %}" class="btn--link text-primary fw-bold">Read More <i class="fas fa-arrow-right small ms-1"></i></a>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-12 text-center py-5">
                <div class="empty-state">
                    <i class="far fa-calendar-times fs-1 text-muted mb-3 d-block"></i>
                    <h3>No Upcoming Events</h3>
                    <p class="text-muted">Stay tuned for future updates and community gatherings.</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}